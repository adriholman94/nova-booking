<div class="col-12 results-filter-block">
    <%= puts filterrific.inspect %>
    <%= form_for_filterrific(filterrific, url: welcome_results_path, html: {id: :manual_filterrific_form}) do |f| %>
    <div class="form-group col-12">
        <div class="row has-search d-flex align-items-center results-block">
          <%= f.select :search_query,
                       options_from_collection_for_select(City.all, "name", "name", f.object.search_query),
                       {:include_blank => '- Todos -'},
                       {:class => 'form-control'} %>
        </div>
        <div class="row has-search d-flex align-items-center results-block">
            <%= f.text_field(:with_date_gte, placeholder: "Fecha de entrada", class: 'form-control datepicker',
                         :'data-provide' => 'datepicker',
                         :'data-date-start-date' => "+0d",
                         :'id' => 'with_date_gte',
                         :'data-target' => '#filterrific_with_date_gte',
                         :'data-toggle' => 'datepicker') %>
        </div>
        <div class="row has-search d-flex align-items-center results-block">
            <%= f.text_field(:with_date_lte, placeholder: "Fecha de salida", class: 'form-control datepicker',
                         :'data-provide' => 'datepicker',
                         :'data-date-start-date' => "+0d",
                         :'id' => 'with_date_lte',
                         :'data-target' => '#filterrific_with_date_lte',
                         :'data-toggle' => 'datepicker') %>
        </div>
        <div class="row has-search d-flex align-items-center results-block">
            <%= f.submit :Buscar, class: 'form-control btn btn-primary' %>
        </div>
    </div>
    <% end %>
</div>
<script>

    <%= render "selects.js" %>

    $(function() {
        $('#with_date_gte, #with_date_lte').datepicker({
            todayHighlight: true,
            autoclose: true,
            format: "YYYY/MM/DD",
            clearBtn: true,
            startDate: new Date()
        });
    });
</script>